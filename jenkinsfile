pipeline{
    agent any
    stages{
        stage("Validate"){
            steps{
                sh '''
                    packer validate wordpress.json
                    export AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID
                    export AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY
                '''
                echo "Packer Template Validated Successfully"
            }
        }
        stage("Dev"){
            steps{
                sh 'packer build wordpress.json'
                echo "Packer Build Completed"
            }
        }
    }
}